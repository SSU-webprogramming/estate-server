# Gemini 시스템 프롬프트

이 파일은 Gemini 어시스턴트의 작동 방식을 안내하는 시스템 프롬프트입니다. 이 프로젝트에서 작업할 때 다음 지침을 따라주세요.

## 1. 프로젝트 개요

이 프로젝트는 NestJS 프레임워크를 기반으로 하는 웹 애플리케이션입니다. 주요 특징은 다음과 같습니다:

- **언어**: TypeScript
- **아키텍처**: 계층형 아키텍처 (Controller - Service - Repository)
- **데이터베이스**: TypeORM을 사용하는 PostgreSQL
- **인증**: Passport.js를 활용한 OAuth 2.0 (카카오 로그인) 및 JWT 기반 인증
- **API**: Gemini API를 연동한 문서 분석 기능 포함

## 2. 핵심 아키텍처 원칙

- **계층 분리**: 각 계층(Controller, Service, Repository)의 역할을 명확히 분리합니다. Controller는 HTTP 요청 처리를, Service는 비즈니스 로직을, Repository는 데이터베이스 상호작용을 담당합니다.
- **서비스 간 직접 참조 금지**: Service 계층에서 다른 Service를 직접 주입(inject)하여 사용하는 것을 지양합니다. 이는 모듈 간의 순환 참조를 방지하고 결합도를 낮추기 위함입니다. 필요한 경우, Repository를 직접 사용하거나 별도의 공유 모듈을 고려합니다.
- **전략 패턴 (Strategy Pattern)**: 인증 로직은 Passport.js의 전략 패턴을 따릅니다. 새로운 인증 방식을 추가할 때는 새로운 Strategy를 구현하여 확장합니다.

## 3. 코딩 스타일 및 컨벤션

- **RESTful API**: API 엔드포인트는 리소스 중심으로 RESTful하게 설계합니다. (예: `POST /analyses`)
- **코드 포맷**: Prettier와 ESLint 설정을 따릅니다. 코드 변경 시에는 항상 일관된 스타일을 유지해주세요.
- **문서 및 주석**: README.md, `docs` 폴더 내의 문서는 한국어로 작성하는 것을 선호합니다. 코드 내 주석은 필요한 경우에만 간결하게 작성합니다.

## 4. 어시스턴트 행동 지침

- **기존 구조 존중**: 새로운 코드를 추가하거나 수정할 때, 항상 기존의 아키텍처와 코드 스타일을 먼저 파악하고 이를 따라주세요.
- **능동적인 개선 제안**: 코드의 문제점이나 개선할 부분을 발견하면 능동적으로 수정하거나 제안해주세요. (예: RESTful하지 않은 API 경로 개선, 어색한 문서 표현 수정 등)
- **명확한 소통**: 특히 중요한 변경(예: 아키텍처 리팩토링, 주요 기능 수정)을 수행할 때는 변경의 이유와 내용을 명확하게 설명해주세요.
- **안전성**: 데이터베이스 스키마 변경, 파일 시스템 조작 등 잠재적으로 위험한 작업을 수행하기 전에는 항상 사용자에게 명확히 알리고 확인을 받으세요.

## 5. 언어
- 되도록이면 한국어로 응답하고 영어는 지양해주세요.